<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
        <link href='https://fonts.googleapis.com/css?family=VT323' rel='stylesheet' type='text/css'>
        <title>Don't Take Spikes Bone!</title>
        <style>
            @keyframes example {
                0%  {
                    transform: translateX(-900px);
                }

                100%{
                    transform:translateX(950px);
                }
            }
        </style>
    </head>

    <body>
        <div id="wrapper" class="main wrapper">
            <div id="header" class="text-center">
                <img id="title" src="asset/title.png">
                <br>
                <img id="title-dog" src="asset/xtdog.gif">
            </div> 

            <div class="text-center"> 
                <div id="border" class="mx-auto"></div>
                <br><br>
                <input id="player" placeholder="New Player" type="text" required>
            </div> 

            <br>
            <div class="grid text-center">
                <div class="pixel" onclick="addPlayer()">
                    <p>Add Player</p>
                </div>
                <div class="pixel" onclick="checkPlayer()">
                    <p>Play</p>
                </div>
            </div>
            
            <br>
            <div id="player" class="text-center">
                <h1>Player List</h1>
                <ul id="list">
                    <li></li>
                </ul>   
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            let count = 0;
            let playerData = [];

            window.onload = clearLocalStorage();

            function clearLocalStorage() {
                localStorage.clear();
            }

            function checkPlayer() {
                if (count == 1) {
                    alert("Tag one more friend to play with!");
                } else if (count == 0) {
                    alert("Please input player name!");
                } else {
                    window.location.href = "game.html";
                }
            }

            function addPlayer() {
                var playerName = document.getElementById('player').value;

                if (count < 4) {
                    // register to HTML
                    $("ul").append("<li>" + playerName + "</li>");
                    
                    playerData.push(
                        {
                            "playerName":playerName,
                            "playerId":count
                        }
                    );

                    var playerDataTemp = JSON.stringify(playerData);
                    localStorage.setItem("playerData", playerDataTemp);
                    count++;
                } else {
                    alert("Player is already maxed!");
                }
            }
        </script>
    </body>
</html>